# Осциллограф на базе STM32F051 (1.1 Msmpl выборка)
Данный репозиторий содержит файлы для сборки через make графического интерфейса осциллографа. Графика реализована при использовании библиотек SFML 2.5. Сборка возможна как под win системы 
(после сборки в папку с .exe необходимо приложить .dll из репозитория для запуска) так и под linux (проверялась на ubuntu 22.04). При сборке под win систему необходимо переименовать Makefile_WIN в файл Makefilе 
(файл Makefile для сборки под linux переименовать в отличный от Makefile). Обмен информацией между компьютером и платой STM32 осуществляется через UART + преобразователь USB-UART.
# Внешний вид 
![1](https://github.com/enytz/gui_oscilloscope/assets/98579675/442b2114-9911-41c3-a0fb-15fa3b4636b3)

	Управление
1) Кнопка "mks/cell" отвечает за время накопления сигнала. При нажатии на кнопку в stm32 через UART поступит команда на увеличение времени накопления одного измерения (допустимые значения 107, 532, 958, 2024, 2946, 3940, 5077, 17004 нс);
2) Кнопка "scale X" отвечает за масштабирование по оси Х;
3) Кнопка "trigger" устанавливает уровень триггера (синхронизация кадра на экране сетки программная).

При нажатии на кнопку произойдет выделение активной кнопки, действие осуществляется после отжатия клавиши
![1](https://github.com/enytz/gui_oscilloscope/assets/98579675/124fd294-d811-4ee0-824e-94b1497ded30)
	Помимо основного окна открывается консоль, где отображаются сообщения о статусе подключения к плате/порту, обратные вызовы при нажатии кнопок, а также количество считанных с порта байт
	![1](https://github.com/enytz/gui_oscilloscope/assets/98579675/edafa2bf-2f0f-4de6-af0c-0d55205026e3)
На рисунке выше режим работы с эмулятором, для его активации необходимо в файле Screen.cpp в методе Screen::Update() закомменитровать Screen::ReadDataTTY(), ADC_Data.TransmitData('r') и раскомментировать 
ADC_Data.pseudo_data(). В методе TTY::pseudo_data() генерируется синусоида со случайной фазой (для проверки работы синхронизации на экране), основным изменяемым параметром является частота f.
